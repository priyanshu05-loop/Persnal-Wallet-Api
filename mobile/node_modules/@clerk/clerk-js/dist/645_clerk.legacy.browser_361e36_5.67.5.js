"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["645"],{15515:function(e,t,r){r.d(t,{j:()=>b,f:()=>s});var n=r(69180);r(69144);var o=r(43812),a=r(43064),i=r(77718),l=r(24676),c=r(55913);let s=()=>{let{data:e,isLoading:t}=(0,o.useStatements)();return(0,n.tZ)(p,{page:1,onPageChange:e=>{},itemCount:(null==e?void 0:e.total_count)||0,pageCount:1,itemsPerPage:10,isLoading:t,emptyStateLocalizationKey:"No statements to display",headers:["Date","Amount"],rows:((null==e?void 0:e.data)||[]).map(e=>(0,n.tZ)(d,{statement:e},e.id))})},d=e=>{let{statement:t}=e,{timestamp:r,id:o,totals:{grandTotal:i}}=t,{navigate:s}=(0,l.useRouter)();return(0,n.BX)(u,{onClick:()=>{s("statement/".concat(o))},children:[(0,n.BX)(a.Td,{sx:{cursor:"pointer"},children:[(0,n.tZ)(a.Text,{variant:"subtitle",children:new Date(r).toLocaleString("en-US",{month:"long",year:"numeric"})}),(0,n.tZ)(a.Text,{colorScheme:"secondary",variant:"caption",truncate:!0,sx:e=>({marginTop:e.space.$0x5}),children:(0,c.L)(o)})]}),(0,n.tZ)(a.Td,{sx:{cursor:"pointer"},children:(0,n.BX)(a.Text,{colorScheme:"secondary",children:[i.currencySymbol,i.amountFormatted]})})]})},p=e=>{let{headers:t,page:r,onPageChange:o,rows:l,isLoading:c,itemCount:s,itemsPerPage:d,pageCount:p,emptyStateLocalizationKey:u}=e,h=s>0?Math.max(0,(r-1)*d)+1:0,S=Math.min(r*d,s);return(0,n.BX)(a.Col,{gap:4,sx:{width:"100%"},children:[(0,n.tZ)(a.Flex,{sx:e=>({overflowX:"auto",padding:e.space.$1}),children:(0,n.BX)(a.Table,{sx:{tableLayout:"fixed"},children:[(0,n.tZ)(a.Thead,{children:(0,n.tZ)(a.Tr,{children:t.map((e,t)=>(0,n.tZ)(a.Th,{elementDescriptor:a.descriptors.tableHead,localizationKey:e,sx:{width:0===t?"auto":"25%"}},t))})}),(0,n.tZ)(a.Tbody,{children:c?(0,n.tZ)(a.Tr,{children:(0,n.tZ)(a.Td,{colSpan:4,children:(0,n.tZ)(a.Spinner,{colorScheme:"primary",sx:{margin:"auto",display:"block"},elementDescriptor:a.descriptors.spinner})})}):l.length?l:(0,n.tZ)(m,{localizationKey:u},"empty")})]})}),p>1&&(0,n.tZ)(i.Pagination,{count:p,page:r,onChange:o,siblingCount:1,rowInfo:{allRowsCount:s,startingRow:h,endingRow:S}})]})},m=e=>(0,n.tZ)(a.Tr,{children:(0,n.tZ)(a.Td,{colSpan:4,children:(0,n.tZ)(a.Text,{localizationKey:e.localizationKey,sx:{margin:"auto",display:"block",width:"fit-content"}})})}),u=e=>(0,n.tZ)(a.Tr,{...e,sx:e=>({":hover":{backgroundColor:e.colors.$neutralAlpha50}})});r(45261),r(70957),r(24551),r(22349),r(65223);var h=r(63610),S=r(12464);function y(e){let{text:t,copyLabel:r="Copy"}=e,{onCopy:o,hasCopied:i}=(0,S.VP)(t);return(0,n.tZ)(a.Button,{elementDescriptor:a.descriptors.statementCopyButton,variant:"unstyled",onClick:o,sx:e=>({color:"inherit",width:e.sizes.$4,height:e.sizes.$4,padding:0,borderRadius:e.radii.$sm,"&:focus-visible":{outline:"2px solid",outlineColor:e.colors.$neutralAlpha200}}),focusRing:!1,"aria-label":i?"Copied":r,children:(0,n.tZ)(a.Icon,{size:"sm",icon:i?h.Jr:h.CK,"aria-hidden":!0})})}let x={Root:function(e){let{children:t}=e;return(0,n.tZ)(a.Box,{elementDescriptor:a.descriptors.statementRoot,as:"article",sx:e=>({borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$solid,borderColor:e.colors.$neutralAlpha100,borderRadius:e.radii.$lg,overflow:"clip"}),children:t})},Header:function(e){let{title:t,id:r,status:o}=e;return(0,n.BX)(a.Box,{elementDescriptor:a.descriptors.statementHeader,as:"header",sx:e=>({padding:e.space.$4,background:e.colors.$neutralAlpha25,display:"flex",justifyContent:"space-between",alignItems:"flex-start"}),children:[(0,n.BX)(a.Span,{elementDescriptor:a.descriptors.statementHeaderTitleContainer,children:[(0,n.tZ)(a.Heading,{elementDescriptor:a.descriptors.statementHeaderTitle,textVariant:"h2",localizationKey:t}),(0,n.BX)(a.Span,{sx:e=>({display:"flex",alignItems:"center",gap:e.space.$0x25,color:e.colors.$colorTextSecondary}),children:[(0,n.tZ)(y,{copyLabel:"Copy statement ID",text:r}),(0,n.tZ)(a.Text,{colorScheme:"secondary",variant:"subtitle",children:(0,c.L)(r)})]})]}),(0,n.tZ)(a.Badge,{elementDescriptor:a.descriptors.statementHeaderBadge,colorScheme:"open"===o?"secondary":"primary",sx:{textTransform:"capitalize"},children:o})]})},Body:function(e){let{children:t}=e;return(0,n.tZ)(a.Box,{elementDescriptor:a.descriptors.statementBody,children:t})},Section:function(e){let{children:t}=e;return(0,n.tZ)(a.Box,{elementDescriptor:a.descriptors.statementSection,as:"section",children:t})},SectionHeader:function(e){let{text:t}=e;return(0,n.tZ)(a.Box,{elementDescriptor:a.descriptors.statementSectionHeader,sx:e=>({paddingInline:e.space.$4,paddingBlock:e.space.$1,background:e.colors.$neutralAlpha50,borderBlockWidth:e.borderWidths.$normal,borderBlockStyle:e.borderStyles.$solid,borderBlockColor:e.colors.$neutralAlpha100}),children:(0,n.tZ)(a.Heading,{elementDescriptor:a.descriptors.statementSectionHeaderTitle,textVariant:"h3",as:"h2",localizationKey:t,sx:e=>({fontWeight:e.fontWeights.$medium})})})},SectionContent:function(e){let{children:t}=e;return(0,n.tZ)(a.Box,{elementDescriptor:a.descriptors.statementSectionContent,children:t})},SectionContentItem:function(e){let{children:t}=e;return(0,n.tZ)(a.Box,{elementDescriptor:a.descriptors.statementSectionContentItem,sx:e=>({paddingInline:e.space.$4,paddingBlock:e.space.$3,"&:not(:first-child)":{borderBlockStartWidth:e.borderWidths.$normal,borderBlockStartStyle:e.borderStyles.$solid,borderBlockStartColor:e.colors.$neutralAlpha100}}),children:t})},SectionContentDetailsHeader:function(e){let{title:t,description:r,secondaryTitle:o,secondaryDescription:i}=e;return(0,n.BX)(a.Box,{elementDescriptor:a.descriptors.statementSectionContentDetailsHeader,sx:e=>({marginBlockEnd:e.space.$2,display:"flex",justifyContent:"space-between"}),children:[(0,n.BX)(a.Box,{elementDescriptor:a.descriptors.statementSectionContentDetailsHeaderItem,children:[(0,n.BX)(a.Span,{sx:e=>({display:"flex",alignItems:"center",gap:e.space.$1}),children:[(0,n.tZ)(a.Icon,{elementDescriptor:a.descriptors.statementSectionContentDetailsHeaderItemIcon,icon:h.ou,colorScheme:"neutral"}),(0,n.tZ)(a.Heading,{elementDescriptor:a.descriptors.statementSectionContentDetailsHeaderTitle,as:"h3",textVariant:"h3",localizationKey:t})]}),(0,n.tZ)(a.Text,{variant:"caption",colorScheme:"secondary",elementDescriptor:a.descriptors.statementSectionContentDetailsHeaderDescription,localizationKey:r})]}),(0,n.BX)(a.Box,{elementDescriptor:a.descriptors.statementSectionContentDetailsHeaderItem,sx:{textAlign:"right"},children:[(0,n.tZ)(a.Text,{variant:"h3",elementDescriptor:a.descriptors.statementSectionContentDetailsHeaderSecondaryTitle,localizationKey:o}),(0,n.tZ)(a.Text,{variant:"caption",colorScheme:"secondary",elementDescriptor:a.descriptors.statementSectionContentDetailsHeaderSecondaryDescription,localizationKey:i})]})]})},SectionContentDetailsList:function(e){let{children:t}=e;return(0,n.tZ)(a.Box,{elementDescriptor:a.descriptors.statementSectionContentDetailsList,as:"ul",sx:e=>({margin:0,padding:0,borderWidth:e.borderWidths.$normal,borderStyle:e.borderStyles.$solid,borderColor:e.colors.$neutralAlpha100,borderRadius:e.radii.$md,overflow:"hidden"}),children:t})},SectionContentDetailsListItem:function(e){let{labelIcon:t,label:r,valueCopyable:o=!1,value:i,valueTruncated:l=!1}=e;return(0,n.BX)(a.Box,{elementDescriptor:a.descriptors.statementSectionContentDetailsListItem,as:"li",sx:e=>({margin:0,paddingInline:e.space.$2,paddingBlock:e.space.$1x5,display:"flex",justifyContent:"space-between",flexWrap:"wrap",columnGap:e.space.$2,rowGap:e.space.$0x5,"&:not(:first-child)":{borderBlockStartWidth:e.borderWidths.$normal,borderBlockStartStyle:e.borderStyles.$solid,borderBlockStartColor:e.colors.$neutralAlpha100}}),children:[(0,n.BX)(a.Span,{elementDescriptor:a.descriptors.statementSectionContentDetailsListItemLabelContainer,sx:e=>({display:"flex",alignItems:"center",gap:e.space.$1x5}),children:[t?(0,n.tZ)(a.Icon,{icon:t,colorScheme:"neutral"}):null,(0,n.tZ)(a.Text,{variant:"caption",colorScheme:"secondary",elementDescriptor:a.descriptors.statementSectionContentDetailsListItemLabel,localizationKey:r})]}),(0,n.tZ)(a.Span,{sx:e=>({display:"flex",alignItems:"center",gap:e.space.$0x25,color:e.colors.$colorTextSecondary}),children:"string"==typeof i?(0,n.BX)(n.HY,{children:[o?(0,n.tZ)(y,{copyLabel:"Copy statement ID",text:i}):null,(0,n.tZ)(a.Text,{colorScheme:"secondary",variant:"caption",elementDescriptor:a.descriptors.statementSectionContentDetailsListItemValue,children:l?(0,c.L)(i):i})]}):(0,n.tZ)(a.Text,{elementDescriptor:a.descriptors.statementSectionContentDetailsListItemValue,colorScheme:"secondary",variant:"caption",localizationKey:i})})]})},Footer:function(e){let{label:t,value:r}=e;return(0,n.BX)(a.Box,{elementDescriptor:a.descriptors.statementFooter,as:"footer",sx:e=>({paddingInline:e.space.$4,paddingBlock:e.space.$3,background:e.colors.$neutralAlpha25,borderBlockStartWidth:e.borderWidths.$normal,borderBlockStartStyle:e.borderStyles.$solid,borderBlockStartColor:e.colors.$neutralAlpha100,display:"flex",justifyContent:"space-between"}),children:[(0,n.tZ)(a.Text,{variant:"h3",localizationKey:t,elementDescriptor:a.descriptors.statementFooterLabel}),(0,n.BX)(a.Span,{elementDescriptor:a.descriptors.statementFooterValueContainer,sx:e=>({display:"flex",alignItems:"center",gap:e.space.$2x5}),children:[(0,n.tZ)(a.Text,{variant:"caption",colorScheme:"secondary",elementDescriptor:a.descriptors.statementFooterCurrency,children:"USD"}),(0,n.tZ)(a.Text,{variant:"h3",elementDescriptor:a.descriptors.statementFooterValue,children:r})]})]})}},b=()=>{let{params:e,navigate:t}=(0,l.useRouter)(),{isLoading:r}=(0,o.useStatements)(),{getStatementById:c}=(0,o.useStatementsContext)(),s=e.statementId?c(e.statementId):null;return r?(0,n.tZ)(a.Box,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,n.tZ)(a.Spinner,{colorScheme:"primary",sx:{margin:"auto",display:"block"},elementDescriptor:a.descriptors.spinner})}):s?(0,n.BX)(n.HY,{children:[(0,n.tZ)(i.Header.Root,{sx:e=>({borderBlockEndWidth:e.borderWidths.$normal,borderBlockEndStyle:e.borderStyles.$solid,borderBlockEndColor:e.colors.$neutralAlpha100,marginBlockEnd:e.space.$4,paddingBlockEnd:e.space.$4}),children:(0,n.tZ)(i.Header.BackLink,{onClick:()=>void t("../../",{searchParams:new URLSearchParams("tab=statements")}),children:(0,n.tZ)(i.Header.Title,{localizationKey:"Statements",textVariant:"h2"})})}),(0,n.BX)(x.Root,{children:[(0,n.tZ)(x.Header,{title:new Date(s.timestamp).toLocaleString("en-US",{month:"long",year:"numeric"}),id:s.id,status:s.status}),(0,n.tZ)(x.Body,{children:s.groups.map(e=>(0,n.BX)(x.Section,{children:[(0,n.tZ)(x.SectionHeader,{text:new Date(e.timestamp).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric"})}),(0,n.tZ)(x.SectionContent,{children:e.items.map(e=>{var t,r;return(0,n.BX)(x.SectionContentItem,{children:[(0,n.tZ)(x.SectionContentDetailsHeader,{title:e.subscription.plan.name,description:"".concat(null===(t=e.subscription.amount)||void 0===t?void 0:t.currencySymbol).concat(null===(r=e.subscription.amount)||void 0===r?void 0:r.amountFormatted," / ").concat("month"===e.subscription.planPeriod?"month":"year"),secondaryTitle:"".concat(e.amount.currencySymbol).concat(e.amount.amountFormatted),secondaryDescription:""}),(0,n.BX)(x.SectionContentDetailsList,{children:[(0,n.tZ)(x.SectionContentDetailsListItem,{label:"recurring"===e.chargeType?"Paid for ".concat(e.subscription.plan.name," ").concat(e.subscription.planPeriod," plan"):"Subscribed and paid for ".concat(e.subscription.plan.name," ").concat(e.subscription.planPeriod," plan"),labelIcon:"recurring"===e.chargeType?h.uR:h.v3,value:e.id,valueTruncated:!0,valueCopyable:!0}),e.subscription.credit&&e.subscription.credit.amount.amount>0?(0,n.tZ)(x.SectionContentDetailsListItem,{label:"Prorated credit for partial usage of previous subscription ",value:"(".concat(e.subscription.credit.amount.currencySymbol).concat(e.subscription.credit.amount.amountFormatted,")")}):null]})]},e.id)})})]},e.timestamp))}),(0,n.tZ)(x.Footer,{label:"Total paid",value:"".concat(s.totals.grandTotal.currencySymbol).concat(s.totals.grandTotal.amountFormatted)})]})]}):(0,n.tZ)(a.Text,{children:"Statement not found"})}}}]);